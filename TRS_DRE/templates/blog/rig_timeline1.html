
{% load static %}
{% load custom_filters %}
<!-- {% include "chat/chat_popup.html" %} -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com"> 
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

  <!-- <link rel="stylesheet" type="text/css" href="{% static 'css/style.H.css' %}" /> -->
  <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


  <title>Calendar</title>

</head>

<body>
  <!-- <div class="nav-2">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <img src="{% static 'MANGMENT.png' %}" alt="Logo" style="height: 25px;" />
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span
            class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="margin-left: 80px;">
            <li class="nav-item">
              <a class="nav-link active"
                style="background-color: #e3c209; padding-left: 15px; padding-right: 15px; margin-left: 10px;"
                aria-current="page" href="{% url 'All_apps' %}"><img src="{% static 'remove-location.png' %}"
                  style="height: 20px; margin-right: 10px; font-weight:bolder;" /> Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'eHighlight_Record_list' %}" style="margin-left: 10px;"><img
                  src="{% static 'data-analytics.png' %}" alt="Well Info"
                  style="height: 20px; margin-right: 10px;" />E-Highlight</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'mytest' %}" style="margin-left: 10px;"><img
                  src="{% static 'organization-chart.png' %}" alt="Rig Info"
                  style="height: 25px; margin-right: 10px;" />WSD-Organization</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'add_task' %}" style="margin-left: 10px;"><img
                  src="{% static 'task-list.png' %}" alt="Location Map" style="height: 20px; margin-right: 10px;" /> To
                Do Task</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#group-task2" style="margin-left: 10px;"><img
                  src="{% static 'customer-service.png' %}" alt="Pre-Construction"
                  style="height: 20px; margin-right: 10px;" /> Pre-Construction</a>
            </li>
          </ul>
          <div class="d-flex">
            <button onclick="scrollToDiv('now')" class="btn btn-outline-primary">Today</button>
          </div>
        </div>
      </div>
    </nav>
  </div> -->

  <!-- Navbar -->
  <nav class="navbar navbar-expand-md custom-navbar">
    <div class="container navbar-container">
      {% if user.is_authenticated %}
      <a href="{% url 'All_apps' %}" class="navbar-brand">
        <img src="{% static 'wellmanage.png' %}" alt="Wellmanage" class="img-fluid" />
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain"
        aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarMain">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{% url 'All_apps' %}"><i
                class="fa-solid fa-house me-1"></i>Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="{% url 'eHighlight_Record_list' %}"><i
                class="fa-solid fa-chart-bar me-1"></i>E-Highlight</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="{% url 'mytest' %}"><i
                class="fa-solid fa-sitemap me-1"></i>WSD-Organization</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="{% url 'add_task' %}"><i
                class="fa-solid fa-list-check me-1"></i>To
              Do Task</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="{% url 'add_task' %}"><i
                class="fa-solid fa-user-pen me-1"></i>Pre-Construction</a>
          </li>
        </ul>
        <div class="user-profile-cont">
          <!-- Today's Button -->
          <button onclick="scrollToDiv('now')" class="btn btn-primary-custom me-3">Today</button>
          <!-- DropDown Profile Links -->
          <div class="dropdown">
            <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-user"></i>
            </a>
          
            <ul class="dropdown-menu dropdown-menu-end p-0">
              <li><a class="dropdown-item" href="#"><i class="fa-regular fa-user m-1"></i> Welcome {{ user|capfirst }}</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa-solid fa-gear me-1"></i> Settings</a></li>
              <li><a class="dropdown-item" href="#"><i class="fa-solid fa-arrow-right-from-bracket me-1"></i> Sign Out</a></li>
            </ul>
          </div>
          
        </div>
      </div>

    </div>
    {% endif %}
  </nav>

  <!-- Navbar Ends -->


  <div class="container1">
    <div class="timeline">
      <div class="timeline header">
        {% for year in years %}
        <div class="timeline year">
          <div>{{ year }}</div>
          <div>
            {% if forloop.first %}
            <div class="title">Clean-Up Status</div>
            {% endif %}
            <div class="month">January</div>
            <div class="month">February</div>
            <div class="month">March</div>
            <div class="month">April</div>
            <div class="month">May</div>
            <div class="month">June</div>
            <div class="month">July</div>
            <div class="month">August</div>
            <div class="month">September</div>
            <div class="month">October</div>
            <div class="month">November</div>
            <div class="month">December</div>
          </div>
        </div>
        {% endfor %}
      </div>

      <div class="timeline rows">
        {% for rig in riggs %}
        <div class="project">
          {% if forloop.first %}
          <div class="now" id="now" style="left: {{ earliest_start_date|get_current_span }}px;"></div>
          {% elif forloop.last %}
          <div class="now" style="left: {{ earliest_start_date|get_current_span }}px; height: 100%;"></div>
          {% else %}
          <div class="now" style="left: {{ earliest_start_date|get_current_span }}px"></div>
          {% endif %}
          <div class="project-card">
            <div class="project-info">
              <div class="row">
                <div class="col-6">
                  {{ rig.engineering_name }}
                  <br />
                  {% if rig.field_type %}
                  {{ rig.field_type }}
                  {% endif %}
                </div>
                <div class="col-6">
                  {{ rig.engineering_name }}
                  <br />
                  {% if rig.field_type %}
                  {{ rig.field_type }}
                  {% endif %}
                </div>
              </div>
            </div>

            <!-- This is for rig name and the in formation for rig -->
            <div class="name" style="font-size: x-small;">
              <div class="start" style="width:100%; min-height: 100px;">
                <div class="rig-dates" style="display: flex; justify-content: space-between;">
                  <span>{{ rig.Current_Assigned_WS_Engineer }}</span>
                  <span>{{ rig.Units.name_unit|slice:'-6:' }}YYY</span>
                </div>

                <div class="rig-name">
                  <p class="mb-0" style="font-size: 11px;">{{ rig.Rig_name }}</p>
                </div>
                <div class="rig-approval" style="display: flex; justify-content: space-between;">
                  <span>{{ rig.Contractor }}XXX</span>
                  <span>{{ rig.Rig_Type }}</span>
                </div>
              </div>
              <div style="height: 100px;width: 150px;background-color: #ddd;position: absolute;top: 50%;right: -150px;transform: translateY(-50%);">Hello World</div>
            </div>
          </div>
          <div class="name-placeholder"></div>
          <div class="movements">
            {% for movement in rig.movementg_set.all %}
            <div class="movement {% if movement.is_cleaned_up %}
                      
                      
                      
                      
                      
                      
                      
                      clean-up







                    {% elif movement.end_date|is_past %}
                      
                      
                      
                      
                      
                      
                      
                      done







                    {% endif %}"
              style="left: {{ movement|calculate_start_month_index:2024 }}px; width: {{ movement|calculate_month_span }}px ">
              <div style="margin-top: 0px;">
                <!-- Adjust the margin-top value as needed -->
                <div class="start" style="font-size: 12px; color: #000;">
                  {{ movement.start_date|date:'M j, Y' }}
                  <p style="margin-bottom: -30px; margin-right:100%;">{{ movement.well.progress }}%%</p>
                </div>

                <div class="end" style="font-size: 12px; color: #000;">
                  {{ movement.end_date|date:'M j, Y' }}
                  <p style="margin-bottom: -30px; margin-left:60%;">D 20</p> <!-- This is about -->
                </div>
              </div>

              <div class="area" style="flex-direction: column;">
                {% comment %} <div class="area">{{ movement.well.name }}</div> {% endcomment %}

                <div class="area">
                  {% comment %} <a href="{% url 'rig_timeline' movement.well.pk %}">{{ movement.well.name }}</a>
                  {% endcomment %}

                  <a onclick="get_movementgs('{{ movement.Well_Construction_Infotion.well_construction_name }}' ); render_data('{{ movement.Well_Construction_Infotion.pk }}'); render_data1('{{ movement.rig.pk }}'); render_data2('{{ movement.Pre_Construction.pk }}'); render_data3('{{ movement.Construction_Departmeent.pk }}');  render_data4('{{ movement.Cellar.pk }}'); render_data5('{{ movement.HDPE_Installation.pk }}'); render_data6('{{ movement.Rig_Move.pk }}');"
                    class="well-link">{{ movement.Well_Construction_Infotion.well_construction_name }}</a>
                </div>

                {% comment %} <div class="area">{{ movement.well.progress }}</div> {% endcomment %}
                <button class="icon-button" onclick="showPopup({{ movement.id }})"><img
                    src="{% static 'plus (1).png' %}" class="card-icon" alt="Add Note Icon"
                    style="width: 30px; height: 30px;" /></button>
              </div>
              <div>
                <!-- <div class="horvsntal">{{ movement.note }}</div> -->
                <!-- <div class="area1" style="font-size: small;">{{ movement.Units.Unit_supervision }}</div> -->
                <div class="area1" style="font-size: small;">{{ movement.Units.Unit_supervision }}</div>
                <!-- no need this we have to delete it -->
                <div>
                  <!-- <div class="area1" style="font-size: small;">{{ movement.Units.Unit_supervision }}</div> -->
                  <div class="area1" style="font-size: small;">{{ movement.Units }}</div>
                </div>
              </div>
            </div>
            {% endfor %}
            <div id="noteModal" class="modal">
              <div class="modal-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <h2>Add a Note</h2>
                <textarea id="noteText" placeholder="Enter your note here..."></textarea>
                <button class="save-button" id="noteSaveBtn" onclick="saveNote()">Save Note</button>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  <!-- This is for the Project Details -->
  <div class="container-fluid" style="margin-top: 1%; width: 100%;">
    <div class="container" style="max-width: 81vw;">
      <!-- Title -->
      <div class="row mb-4">
        <div class="col py-3">
          <h2 class="text-center">Project Details and <span
              style="background: linear-gradient(to right, #5818d4, #039eb4); -webkit-background-clip: text; color: transparent;">Task
              Overview</span></h2>
        </div>
      </div>

      <!-- Navigation Tabs -->
      <ul class="nav nav-tabs" style="width: 100%;">
        <li class="nav-item">
          <a class="nav-link active" id="individual-task-tab" data-bs-toggle="tab" href="#individual-task" role="tab"
            aria-controls="individual-task" aria-selected="true" style="font-size: 14px;">Well Info</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Rig Info</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task1" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Location Map</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task2" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Pre-Construction</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task3" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Construction</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task4" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Cellar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task5" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">HDPE Installation</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task6" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Rig Move</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task7" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Repair Section</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task8" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Clean-Up Section</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task9" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Location Support</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task10" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Waste Management</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="group-task-tab" data-bs-toggle="tab" href="#group-task11" role="tab"
            aria-controls="group-task" aria-selected="false" style="font-size: 14px;">Change Request Track</a>
        </li>
      </ul>


      <!-- Tab Content -->
      <div class="row project-details">
        <div class="col-md-2 rig-list-container">
          <h3>Rig List <span><i class="fa-solid fa-oil-well"></i></span></h3>
          <div id="riggList">
            <ul class="list-group">
              <!-- <a  class="list-group-item list-group-item-action">Sino 21 ROC # 12342</a>
              <a href="#" class="list-group-item list-group-item-action">Sino 21 ROC # 12342</a>
              <a href="#" class="list-group-item list-group-item-action">Sino 21 ROC # 12342</a>
              <a href="#" class="list-group-item list-group-item-action">Sino 21 ROC # 12342</a> -->

            </ul>
          </div>
        </div>


        <div class="col-md-10">
          <div class="tab-content gradient-border">
            <h3 class="text-uppercase mb-3"><span><i class="fa-solid fa-circle-exclamation"></i> WEll Information </span></h3>

            <!-- here is the search bar -->
            <!-- <div class="row mb-5">
              <div class="col-md-3 ms-auto">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Search..." aria-label="Search"
                    aria-describedby="search-button" />
                  <button class="btn btn-outline-secondary" type="button" id="search-button">Search</button>
                </div>
              </div>
            </div> -->
            


            <!-- Individual Task Tab Content -->
            <div class="tab-pane fade show active" id="individual-task" role="tabpanel"
              aria-labelledby="individual-task-tab">
              <form>
                <!-- Well Name, Drillsite Name, and Objective -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="well-name" class="form-label" >Well
                      Name:</label>
                    <input type="text" class="form-control" id="well-name" placeholder="Enter Well Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Drillsite_Name" class="form-label">Drillsite
                      Name:</label>
                    <input type="text" class="form-control" id="Drillsite_Name" placeholder="Enter Drillsite Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="objective" class="form-label">Objective:</label>
                    <input type="text" class="form-control" id="objective" placeholder="Enter Objective" />
                  </div>
                </div>

                <!-- Fluid Type, BI, and Charge Account -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="fluid_Type_choices" class="form-label">Fluid
                      Type:</label>
                    <input type="text" class="form-control" id="fluid_Type_choices" placeholder="Enter Fluid Type" />
                  </div>
                  <div class="col-md-4">
                    <label for="BI" class="form-label">BI:</label>
                    <input type="text" class="form-control" id="BI" placeholder="Enter BI" />
                  </div>
                  <div class="col-md-4">
                    <label for="Charge_Account" class="form-label">Charge
                      Account:</label>
                    <input type="text" class="form-control" id="Charge_Account" placeholder="Enter Charge Account"/>
                  </div>
                </div>

                <!-- Spud Date, Released Date, and Reference Number -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Spud_date" class="form-label">Spud
                      Date:</label>
                    <input type="text" class="form-control" id="Spud_date" placeholder="Enter Spud Date"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Released_date" class="form-label">Released
                      Date:</label>
                    <input type="text" class="form-control" id="Released_date" placeholder="Enter Released Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="Reference_Number" class="form-label">Reference
                      Number (RAC):</label>
                    <input type="text" class="form-control" id="Reference_Number" placeholder="Enter Reference Number" />
                  </div>
                </div>

                <!-- Direct Distance, D&WO Engineer, and Engineering Department -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="well_construction_Direct_distance_DH" class="form-label">Direct Distance DH:</label>
                    <input type="text" class="form-control" id="well_construction_Direct_distance_DH"
                      placeholder="Enter Direct Distance DH" />
                  </div>
                  <div class="col-md-4">
                    <label for="well_construction_DWO_Engineer" class="form-label">D&WO Engineer:</label>
                    <input type="text" class="form-control" id="well_construction_DWO_Engineer"
                      placeholder="Enter Engineer Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Engineering_department" class="form-label">Engineering Department:</label>
                    <input type="text" class="form-control" id="Engineering_department"
                      placeholder="Enter Department Name" />
                  </div>
                </div>

                <!-- Producing Engineer, GOSP/WIP/Department -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="well_construction_Producing_Engineer" class="form-label">Producing Engineer:</label>
                    <input type="text" class="form-control" id="well_construction_Producing_Engineer"
                      placeholder="Enter Producing Engineer Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="well_construction_GOSP_WIP_Department" class="form-label">GOSP/WIP/Department:</label>
                    <input type="text" class="form-control" id="well_construction_GOSP_WIP_Department"
                      placeholder="Enter Department Name"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- Group Task Tab Rig info -->
            <div class="tab-pane fade" id="group-task" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Rig Name, Rig Type, and Operation Department -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Rig_name" class="form-label">Rig Name:</label>
                    <input type="text" class="form-control" id="Rig_name" placeholder="Enter Rig Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Rig_Type" class="form-label">Rig Type:</label>
                    <input type="text" class="form-control" id="Rig_Type" placeholder="Enter Rig Type" />
                  </div>
                  <div class="col-md-4">
                    <label for="Operation_Department" class="form-label">Operation Department:</label>
                    <input type="text" class="form-control" id="Operation_Department"
                      placeholder="Enter Department Name" />
                  </div>
                </div>

                <!-- Operation Manager, Permanent Construction CC, and Last Update -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Operation_Manager" class="form-label">Operation
                      Manager:</label>
                    <input type="text" class="form-control" id="Operation_Manager" placeholder="Enter Manager Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="Permanent_Construction_Cc" class="form-label">Permanent Construction CC:</label>
                    <input type="text" class="form-control" id="Permanent_Construction_Cc"
                      placeholder="Enter Construction CC"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Last_Update_Permanent_Construction_Cc" class="form-label">Last Update on:</label>
                    <input type="text" class="form-control" id="Last_Update_Permanent_Construction_Cc"
                      placeholder="Enter Last Update Date" />
                  </div>
                </div>

                <!-- Permanent HDPE Contractor, Last Update, and Permanent Soil Test Contractor -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Permanent_HDPE_Contractor" class="form-label">Permanent HDPE Contractor:</label>
                    <input type="text" class="form-control" id="Permanent_HDPE_Contractor"
                      placeholder="Enter Contractor Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="Last_Update_Permanent_HDPE_Contractor" class="form-label">Last Update on:</label>
                    <input type="text" class="form-control" id="Last_Update_Permanent_HDPE_Contractor"
                      placeholder="Enter Last Update Date"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Permanent_Soil_Test_Contractor" class="form-label">Permanent Soil Test Contractor:</label>
                    <input type="text" class="form-control" id="Permanent_Soil_Test_Contractor"
                      placeholder="Enter Contractor Name" />
                  </div>
                </div>

                <!-- Last Update for Soil Test, Current Assigned Unit, and Current Assigned WS Engineer -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Last_Update_Permanent_Soil_Test_Contractor" class="form-label">Last Update on:</label>
                    <input type="text" class="form-control" id="Last_Update_Permanent_Soil_Test_Contractor"
                      placeholder="Enter Last Update Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="Current_Assigned_Unit" class="form-label">Current Assigned Unit:</label>
                    <input type="text" class="form-control" id="Current_Assigned_Unit" placeholder="Enter Unit Details"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Current_Assigned_WS_Engineer" class="form-label">Current Assigned WS Engineer:</label>
                    <input type="text" class="form-control" id="Current_Assigned_WS_Engineer"
                      placeholder="Enter Engineer Name" />
                  </div>
                </div>
              </form>
            </div>

            <!-- Location Map Tab Content -->
            <div class="tab-pane fade" id="group-task1" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Location Map and Rig Name -->
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label for="well-name-group" class="form-label">Location
                      Map:</label>
                    <input type="text" class="form-control" id="well-name-group"
                      placeholder="Enter Location Map Details"/>
                  </div>
                  <div class="col-md-6">
                    <label for="rig-name-group" class="form-label">Rig
                      Name:</label>
                    <input type="text" class="form-control" id="rig-name-group" placeholder="Enter Rig Name"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- Well Link -->
            <a href="#" class="well-link" data-id="{{ movement.well.pk }}">{{ movement.well.name }}</a>

            <!-- The form inside the #group-task2 div -->
            <div class="tab-pane fade" id="group-task2" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Approval Status, Approval Date, and Construction Requirement -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Approval_Status" class="form-label">Approval Status:</label>
                    <input type="text" class="form-control" id="Approval_Status"
                      placeholder="Enter Approval Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="Approval_Date" class="form-label">Approval Date:</label>
                    <input type="text" class="form-control" id="Approval_Date"
                      placeholder="Enter Approval Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="CONDTR_REQ" class="form-label">Construction
                      Requirement:</label>
                    <input type="text" class="form-control" id="CONDTR_REQ"
                      placeholder="Enter Construction Requirement" />
                  </div>
                </div>

                <!-- Row 2: R. Completion Date, Approved Layout, and Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="R_Completio_Date" class="form-label">R. Completion
                      Date:</label>
                    <input type="text" class="form-control" id="R_Completio_Date"
                      placeholder="Enter Completion Date" />
                  </div>

                 

                  <div class="col-md-4">
                    <label for="Approved_Lay_out" class="form-label">Approved Layout:</label>
                    <input type="text" class="form-control" id="Approved_Lay_out"
                      placeholder="Enter Approved Layout Details" />
                  </div>
                  <div class="col-md-4">
                    <label for="Date_Approved_Lay_out" class="form-label">Date:</label>
                    <input type="text" class="form-control" id="Date_Approved_Lay_out" placeholder="Enter Date" />
                  </div>
                </div>
              </form>
            </div>

            {% comment %}here the new code we have{% endcomment %}

            <!-- Construction Table -->
            <div class="tab-pane fade" id="group-task3" role="tabpanel" aria-labelledby="group-task-tab"
              style="font-size: 14px;">
              <form>
                <!-- Row 1: Construction Request, Request Date, Request Status -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="CONSTR_REQ" class="form-label">Construction Request:</label>
                    <input type="text" class="form-control" id="CONSTR_REQ" placeholder="Enter Construction Request"/>
                  </div>
                  <div class="col-md-4">
                    <label for="REQ_Start_Date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="REQ_Start_Date" placeholder="Enter Request Start Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="REQ_Status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="REQ_Status" placeholder="Enter Request Status" />
                  </div>
                </div>

                <!-- Row 2: Construction Contractor, Construction KPI, Construction KOM -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="CONSTR_Contractor" class="form-label">Construction
                      Contractor:</label>
                    <input type="text" class="form-control" id="CONSTR_Contractor" placeholder="Enter Contractor Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="CONSTR_KPI" class="form-label">Construction KPI:</label>
                    <input type="text" class="form-control" id="CONSTR_KPI" placeholder="Enter KPI"/>
                  </div>
                  <div class="col-md-4">
                    <label for="CONSTR_KOM" class="form-label">Construction KOM:</label>
                    <input type="text" class="form-control" id="CONSTR_KOM" placeholder="Enter KOM Details"/>
                  </div>
                </div>

                <!-- Row 3: Conducted By (KOM), Construction Status, Constructed Skid Road Distance -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Conducted_by_KOM" class="form-label">Conducted By
                      (KOM):</label>
                    <input type="text" class="form-control" id="Conducted_by_KOM"
                      placeholder="Enter Name of Person Conducting KOM"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Construction_Status" class="form-label">Construction
                      Status:</label>
                    <input type="text" class="form-control" id="Construction_Status"
                      placeholder="Enter Construction Status"/>
                  </div>
                  <div class="col-md-4">
                    <label for="CONSTR_Skid_ROAD_DIST" class="form-label">Constructed Skid
                      Road Distance:</label>
                    <input type="text" class="form-control" id="CONSTR_Skid_ROAD_DIST" placeholder="Enter Distance"/>
                  </div>
                </div>

                <!-- Row 4: Final Survey, Conducted By (Final Survey), Unit -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Final_Survey" class="form-label">Final Survey:</label>
                    <input type="text" class="form-control" id="Final_Survey" placeholder="Enter Final Survey Details" />
                  </div>
                  <div class="col-md-4">
                    <label for="Conducted_by_Final_Survey" class="form-label">Conducted By
                      (Final Survey):</label>
                    <input type="text" class="form-control" id="Conducted_by_Final_Survey"
                      placeholder="Enter Name of Person Conducting Survey"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Unit" class="form-label">Unit:</label>
                    <input type="text" class="form-control" id="Unit" placeholder="Enter Unit"/>
                  </div>
                </div>

                <!-- Row 5: Post Construction Turn-over, Date, Quantities Details -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Post_CONSTR_Rurn_OVER" class="form-label">Post Construction
                      Turn-over:</label>
                    <input type="text" class="form-control" id="Post_CONSTR_Rurn_OVER"
                      placeholder="Enter Turn-over Details"/>
                  </div>
                  <div class="col-md-4">
                    <label for="REQ_End_Date" class="form-label">Date:</label>
                    <input type="text" class="form-control" id="REQ_End_Date" placeholder="Enter End Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="Quanatities_Detities" class="form-label">Quantities
                      Details:</label>
                    <input type="text" class="form-control" id="Quanatities_Detities"
                      placeholder="Enter Quantities Details"/>
                  </div>
                </div>

                <!-- Row 6: Project Team Details, Remarks, Criticality -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Project_team_Details" class="form-label">Project Team
                      Details:</label>
                    <input type="text" class="form-control" id="Project_team_Details" placeholder="Enter Team Details"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Remark_and_Hold" class="form-label">Remarks for 0% and
                      Hold:</label>
                    <input type="text" class="form-control" id="Remark_and_Hold" placeholder="Enter Remarks" />
                  </div>
                  <div class="col-md-4">
                    <label for="Criticality" class="form-label">Criticality:</label>
                    <input type="text" class="form-control" id="Criticality" placeholder="Enter Criticality Level"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- <div class="tab-pane fade" id="group-task4" role="tabpanel" aria-labelledby="group-task-tab" style="font-size: 14px;">
                <form>
                   Row 1: Cellar Installation, Soil Test Request, Request Date
                  <div class="row mb-3">
                    <div class="col-md-4">
                      <label for="Cellar_Installation" class="form-label" style="font-weight: bold;">Cellar Installation:</label>
                      <input type="text" class="form-control" id="Cellar_Installation" placeholder="Enter Installation Details" style="background-color: #fff0db;" />
                    </div>
                    <div class="col-md-4">
                      <label for="Soil_Test_Request" class="form-label" style="font-weight: bold;">Soil Test Request:</label>
                      <input type="text" class="form-control" id="Soil_Test_Request" placeholder="Enter Soil Test Request" style="background-color: #fff0db;" />
                    </div>
                    <div class="col-md-4">
                      <label for="REQ_Date" class="form-label" style="font-weight: bold;">Request Date:</label>
                      <input type="text" class="form-control" id="REQ_Date" placeholder="Enter Request Date" style="background-color: #fff0db;" />
                    </div>
                  </div>

                   Row 2: Request Status, Soil Test Contractor, Conducted By 
                  <div class="row mb-3">
                    <div class="col-md-4">
                      <label for="Cellar_REQ_Status" class="form-label" style="font-weight: bold;">Request Status:</label>
                      <input type="text" class="form-control" id="Cellar_REQ_Status" placeholder="Enter Request Status" style="background-color: #fff0db;" />
                    </div>
                    <div class="col-md-4">
                      <label for="Soil_Test_Contractor" class="form-label" style="font-weight: bold;">Soil Test Contractor:</label>
                      <input type="text" class="form-control" id="Soil_Test_Contractor" placeholder="Enter Contractor Name" style="background-color: #fff0db;" />
                    </div>
                    <div class="col-md-4">
                      <label for="Conducted_by" class="form-label" style="font-weight: bold;">Conducted By:</label>
                      <input type="text" class="form-control" id="Conducted_by" placeholder="Enter Name of Person Conducting" style="background-color: #fff0db;" />
                    </div>
                  </div>
                </form>
              </div> -->



            <!--  -->
            <!--  -->
            <div class="tab-pane fade" id="group-task4" role="tabpanel" aria-labelledby="group-task-tab">
              <form id="cellarForm">
                <input type="text" hidden id="callerID">
                <!-- Row 1: Cellar Installation, Soil Test Request, Request Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Cellar_Installation" class="form-label">Cellar
                      Installation:</label>
                    <input type="text" class="form-control" id="Cellar_Installation"
                      placeholder="Enter Installation Details"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Soil_Test_Request" class="form-label">Soil Test
                      Request:</label>
                    <input type="text" class="form-control" id="Soil_Test_Request" placeholder="Enter Soil Test Request"/>
                  </div>
                  <div class="col-md-4">
                    <label for="REQ_Date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="REQ_Date" placeholder="Enter Request Date" />
                  </div>
                </div>

                <!-- Row 2: Request Status, Soil Test Contractor, Conducted By -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Cellar_REQ_Status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="Cellar_REQ_Status" placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="Soil_Test_Contractor" class="form-label">Soil Test
                      Contractor:</label>
                    <input type="text" class="form-control" id="Soil_Test_Contractor"
                      placeholder="Enter Contractor Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="Conducted_by" class="form-label">Conducted By:</label>
                    <input type="text" class="form-control" id="Conducted_by"
                      placeholder="Enter Name of Person Conducting"/>
                  </div>
                </div>

                <!-- Add the submit button -->
                <button type="button" class="btn btn-primary" onclick="submitCellarForm()">Submit</button>
              </form>
            </div>

            <!--  -->
            <!--  -->




            <!-- HDPE Installation -->
            <div class="tab-pane fade" id="group-task5" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Lining Installation, Lining Request, Request Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Lining_Installation" class="form-label">Lining
                      Installation:</label>
                    <input type="text" class="form-control" id="Lining_Installation"
                      placeholder="Enter Installation Details"/>
                  </div>
                  <div class="col-md-4">
                    <label for="REQ_Lining_Number" class="form-label">Lining Request:</label>
                    <input type="text" class="form-control" id="REQ_Lining_Number" placeholder="Enter Request Number"/>
                  </div>
                  <div class="col-md-4">
                    <label for="HDPE_REQ_Date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="HDPE_REQ_Date" placeholder="Enter Request Date"/>
                  </div>
                </div>

                <!-- Row 2: Request Status, Installation Status, Total Area Installed -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="HDPE_REQ_Status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="HDPE_REQ_Status" placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="Installation_Status" class="form-label">Installation
                      Status:</label>
                    <input type="text" class="form-control" id="Installation_Status"
                      placeholder="Enter Installation Status"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Total_Area_Installed" class="form-label">Total Area
                      Installed:</label>
                    <input type="text" class="form-control" id="Total_Area_Installed" placeholder="Enter Total Area"/>
                  </div>
                </div>

                <!-- Row 3: Lining Contractor, Conducted By, Quantities -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="Lining_Contractor" class="form-label">Lining
                      Contractor:</label>
                    <input type="text" class="form-control" id="Lining_Contractor" placeholder="Enter Contractor Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="Conducted_by_info" class="form-label">Conducted By:</label>
                    <input type="text" class="form-control" id="Conducted_by_info" placeholder="Enter Conducted By Info"/>
                  </div>
                  <div class="col-md-4">
                    <label for="Quantities_Details" class="form-label">Quantities:</label>
                    <input type="text" class="form-control" id="Quantities_Details"
                      placeholder="Enter Quantities Details"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- Rig move table -->
            <div class="tab-pane fade" id="group-task6" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Rig Move Request, Rig Name, From Well -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="RIG_MOVE_REQ" class="form-label">Rig Move Request:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_REQ" placeholder="Enter Rig Move Request"/>
                  </div>
                  <div class="col-md-4">
                    <label for="RIG_MOVE_NAME" class="form-label">Rig Name:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_NAME" placeholder="Enter Rig Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="RIG_MOVE_WELL" class="form-label">From Well:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_WELL" placeholder="Enter Well Name"/>
                  </div>
                </div>

                <!-- Row 2: Request Status, Rig Move Documents, Conducted By -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="RIG_MOVE_STATUS" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_STATUS" placeholder="Enter Request Status"/>
                  </div>
                  <div class="col-md-4">
                    <label for="RIG_MOVE_DOCUMENTS_LINK" class="form-label">Rig Move
                      Documents:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_DOCUMENTS_LINK"
                      placeholder="Enter Document Link"/>
                  </div>
                  <div class="col-md-4">
                    <label for="RIG_MOVE_CONDUCTED_BY" class="form-label">Conducted
                      By:</label>
                    <input type="text" class="form-control" id="RIG_MOVE_CONDUCTED_BY"
                      placeholder="Enter Name of Person Conducting"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- Repair Section -->
            <div class="tab-pane fade" id="group-task7" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Repair Section -->
                <div class="row mb-3">
                  <div class="col-md-3">
                    <label for="repair-group" class="form-label">Required Repair:</label>
                  </div>
                  <div class="col-md-9 d-flex flex-wrap align-items-center">
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-sand-removal" />
                      <label class="form-check-label" for="repair-sand-removal">Sand Removal</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-extension" />
                      <label class="form-check-label" for="repair-extension">Extension</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-recompaction" />
                      <label class="form-check-label" for="repair-recompaction">Re-Compaction</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-change-cellar" />
                      <label class="form-check-label" for="repair-change-cellar">Change Cellar</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-modification" />
                      <label class="form-check-label" for="repair-modification">Modification</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-complete-repair" />
                      <label class="form-check-label" for="repair-complete-repair">Complete Repair</label>
                    </div>
                    <div class="form-check me-3">
                      <input class="form-check-input" type="checkbox" id="repair-additional" />
                      <label class="form-check-label" for="repair-additional">Additional</label>
                    </div>
                  </div>
                </div>

                <!-- Row 1: From Well, Request Status, Rig Move Documents -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="well-name-group" class="form-label">Repair Request
                      Number:</label>
                    <input type="text" class="form-control" id="well-name-group" placeholder="Enter Well Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="request-status-group" class="form-label">Request
                      Status:</label>
                    <input type="text" class="form-control" id="request-status-group" placeholder="Enter Request Status"/>
                  </div>
                  <div class="col-md-4">
                    <label for="rig-move-documents-group" class="form-label">Request
                      Date:</label>
                    <input type="text" class="form-control" id="rig-move-documents-group"
                      placeholder="Enter Document Info"/>
                  </div>
                </div>

                <!-- Row 2: Conducted By, Rig Move Documents (2), Conducted By (2) -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="conducted-by-group" class="form-label">Construction
                      Contractor:</label>
                    <input type="text" class="form-control" id="conducted-by-group" placeholder="Enter Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="rig-move-documents-group-2" class="form-label">Repair Start
                      Date:</label>
                    <input type="text" class="form-control" id="rig-move-documents-group-2"
                      placeholder="Enter Document Info"/>
                  </div>
                  <div class="col-md-4">
                    <label for="conducted-by-group-2" class="form-label">Repair
                      Status:</label>
                    <input type="text" class="form-control" id="conducted-by-group-2" placeholder="Enter Name"/>
                  </div>
                </div>

                <!-- Row 3: Rig Move Documents (3), Conducted By (3) -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="rig-move-documents-group-3" class="form-label">Repair
                      Completion Date:</label>
                    <input type="text" class="form-control" id="rig-move-documents-group-3"
                      placeholder="Enter Document Info"/>
                  </div>
                  <div class="col-md-4">
                    <label for="conducted-by-group-3" class="form-label">Monitored
                      By:</label>
                    <input type="text" class="form-control" id="conducted-by-group-3" placeholder="Enter Name"/>
                  </div>
                  <div class="col-md-4">
                    <label for="conducted-by-group-3" class="form-label">Quantities
                      Details:</label>
                    <input type="text" class="form-control" id="conducted-by-group-3" placeholder="Enter Name"/>
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="rig-move-documents-group-3" class="form-label">Project Team
                      Details:</label>
                    <input type="text" class="form-control" id="rig-move-documents-group-3"
                      placeholder="Enter Document Info"/>
                  </div>
                  <div class="col-md-4">
                    <label for="conducted-by-group-3" class="form-label">Criticality:</label>
                    <input type="text" class="form-control" id="conducted-by-group-3" placeholder="Enter Name"/>
                  </div>
                </div>
              </form>
            </div>

            <!-- Clean-Up Section -->
            <div class="tab-pane fade" id="group-task8" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Clean-Up Request Number, Request Date, Request Status -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="clean-up-request-number" class="form-label">Clean-Up Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Clean-Up Request Number" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Status" />
                  </div>
                </div>

                <!-- Row 2: Construction Contractor, Clean-Up KPI, Clean-Up Start Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="construction-contractor" class="form-label">Construction
                      Contractor:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Contractor Name" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-kpi" class="form-label">Clean-Up KPI:</label>
                    <input type="text" class="form-control" id="cleanup-kpi"
                      placeholder="Enter Clean-Up KPI" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-start-date" class="form-label">Clean-Up Start
                      Date:</label>
                    <input type="text" class="form-control" id="cleanup-start-date"
                      placeholder="Enter Start Date" />
                  </div>
                </div>

                <!-- Row 3: Clean-Up Start Status, Clean-Up Completion Date, Post Clean-Up Turnover -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="cleanup-start-status" class="form-label">Clean-Up Start
                      Status:</label>
                    <input type="text" class="form-control" id="cleanup-start-status"
                      placeholder="Enter Start Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-completion-date" class="form-label">Clean-Up
                      Completion Date:</label>
                    <input type="text" class="form-control"
                      id="cleanup-completion-date" placeholder="Enter Completion Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="post-cleanup-turnover" class="form-label">Post Clean-Up
                      Turnover:</label>
                    <input type="text" class="form-control"
                      id="post-cleanup-turnover" placeholder="Enter Post Clean-Up Turnover" />
                  </div>
                </div>

                <!-- Row 4: Monitored By -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="monitored-by" class="form-label">Monitored By:</label>
                    <input type="text" class="form-control" id="monitored-by"
                      placeholder="Enter Monitored By" />
                  </div>
                  <div class="col-md-4">
                    <label for="quantities-details" class="form-label">Quantities
                      Details:</label>
                    <input type="text" class="form-control" id="quantities-details"
                      placeholder="Enter Quantities Details" />
                  </div>
                  <div class="col-md-4">
                    <label for="project-team-details" class="form-label">Project Team
                      Details:</label>
                    <input type="text" class="form-control" id="project-team-details"
                      placeholder="Enter Project Team Details" />
                  </div>
                </div>
                <!-- Row 5: -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="monitored-by" class="form-label">Pre-Clean-Up
                      Turnover:</label>
                    <input type="text" class="form-control" id="monitored-by"
                      placeholder="Enter Pre-Clean-Up Turnover" />
                  </div>
                  <div class="col-md-4">
                    <label for="quantities-details" class="form-label" >Criticality:</label>
                    <input type="text" class="form-control" id="quantities-details"
                      placeholder="Enter Criticality" />
                  </div>
                </div>
              </form>
            </div>

            <div class="tab-pane fade" id="group-task9" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Clean-Up Request Number, Request Date, Request Status -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="clean-up-request-number" class="form-label">Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Date" />
                  </div>
                </div>

                <!-- Row 2: Construction Contractor, Clean-Up KPI, Clean-Up Start Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="construction-contractor" class="form-label">Contractor:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-kpi" class="form-label">Dispatch By:</label>
                    <input type="text" class="form-control" id="cleanup-kpi"
                      placeholder="Enter Dispatch By" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-start-date" class="form-label">Remark:</label>
                    <input type="text" class="form-control" id="cleanup-start-date"
                      placeholder="Enter Remark" />
                  </div>
                </div>
              </form>
            </div>

            <div class="tab-pane fade" id="group-task10" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Clean-Up Request Number, Request Date, Request Status -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="clean-up-request-number" class="form-label">Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-date" class="form-label">Request Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-4">
                    <label for="request-status" class="form-label">Request Status:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Date" />
                  </div>
                </div>

                <!-- Row 2: Construction Contractor, Clean-Up KPI, Clean-Up Start Date -->
                <div class="row mb-3">
                  <div class="col-md-4">
                    <label for="construction-contractor" class="form-label">Contractor:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-kpi" class="form-label">Dispatch By:</label>
                    <input type="text" class="form-control" id="cleanup-kpi"
                      placeholder="Enter Dispatch By" />
                  </div>
                  <div class="col-md-4">
                    <label for="cleanup-start-date" class="form-label">Remark:</label>
                    <input type="text" class="form-control" id="cleanup-start-date"
                      placeholder="Enter Remark" />
                  </div>
                </div>
              </form>
            </div>

            <!-- Change Request Track -->
            <div class="tab-pane fade" id="group-task11" role="tabpanel" aria-labelledby="group-task-tab">
              <form>
                <!-- Row 1: Request Number, Request Date, Request Status, Construction Contractor -->
                <div class="row mb-3">
                  <div class="col-md-3">
                    <label for="clean-up-request-number" class="form-label">Change Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-date" class="form-label">Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-status" class="form-label">Justification:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-3">
                    <label for="construction-contractor" class="form-label">Status:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Contractor Name" />
                  </div>
                </div>

                <!-- Row 2: Dispatch By, Remark -->
                <div class="row mb-3">
                  <div class="col-md-3">
                    <label for="clean-up-request-number" class="form-label">Change Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-date" class="form-label" >Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-status" class="form-label">Justification:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-3">
                    <label for="construction-contractor" class="form-label">Status:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Contractor Name" />
                  </div>
                </div>
                <!-- Row 2: Dispatch By, Remark -->
                <div class="row mb-3">
                  <div class="col-md-3">
                    <label for="clean-up-request-number" class="form-label">Change Request
                      Number:</label>
                    <input type="text" class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-date" class="form-label" >Date:</label>
                    <input type="text"  class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-status" class="form-label" >Justification:</label>
                    <input type="text"  class="form-control" id="request-status"
                      placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-3">
                    <label for="construction-contractor" class="form-label">Status:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Contractor Name" />
                  </div>
                </div>
                <!-- Row 2: Dispatch By, Remark -->
                <div class="row mb-3">
                  <div class="col-md-3">
                    <label for="clean-up-request-number" class="form-label" >Change Request
                      Number:</label>
                    <input type="text"  class="form-control"
                      id="clean-up-request-number" placeholder="Enter Request Number" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-date" class="form-label" >Date:</label>
                    <input type="text" class="form-control" id="request-date"
                      placeholder="Enter Request Date" />
                  </div>
                  <div class="col-md-3">
                    <label for="request-status" class="form-label">Justification:</label>
                    <input type="text" class="form-control" id="request-status"
                      placeholder="Enter Request Status" />
                  </div>
                  <div class="col-md-3">
                    <label for="construction-contractor" class="form-label">Status:</label>
                    <input type="text" class="form-control"
                      id="construction-contractor" placeholder="Enter Contractor Name" />
                  </div>
                </div>
              </form>
            </div>
          </div>

        </div>

      </div>

      <!-- <h1>Well List</h1> -->
      <ul>
        <!-- List all wells -->
        {% for well in wells %}
        <li>
          <a href="#" class="well-link" data-well-id="{{ well.id }}">{{ well.well_construction_name }}</a>
        </li>
        {% endfor %}
      </ul>

      <!-- <h2>Rigs Working on the Selected Well:</h2> -->
      <div id="rigs-info">
        <!-- Rigs working on the selected well will be displayed here -->
      </div>


    </div>
  </div>

  <!-- Add Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script>
    function scrollToDiv(divId) {
      var element = document.getElementById(divId)
      if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' })
      }
    }

    function showPopup(movementId) {
      document.getElementById('noteSaveBtn').onclick = () => {
        saveNote(movementId)
      }
      document.getElementById('noteModal').style.display = 'block'
    }

    function closePopup() {
      document.getElementById('noteModal').style.display = 'none'
    }

    function saveNote() {
      var noteText = document.getElementById('noteText').value
      alert('Note saved: ' + noteText)
      closePopup()
    }

    function saveNote(movementId) {
      var noteText = document.getElementById('noteText').value

      fetch('/save-note/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
          'X-CSRFToken': '{{ csrf_token }}'
        },
        body: new URLSearchParams({
          note: noteText,
          movement_id: movementId
        })
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.status === 'success') {
            alert(data.message)
            closePopup()
          } else {
            alert('Failed to save note.')
          }
        })
        .catch((error) => {
          console.error('Error:', error)
          alert('An error occurred.')
        })
    }

    ///////// This fanction I create it to get infor as json wells information //////////////////
    function render_data(id) {
      // Assuming your URL follows the pattern defined in the URLs
      const url = `/get-well-construction-info/${id}/` // Replace this with your correct URL structure
      document.getElementById("well-name").value = " "
      document.getElementById("objective").value = " "
      document.getElementById("BI").value = " "
      document.getElementById("Spud_date").value = " "
      document.getElementById("Reference_Number").value = " "
      document.getElementById("well_construction_DWO_Engineer").value = " "
      document.getElementById("well_construction_Producing_Engineer").value = " "
      document.getElementById("Drillsite_Name").value = " "
      document.getElementById("fluid_Type_choices").value = " "
      document.getElementById("Charge_Account").value = " "
      document.getElementById("Released_date").value = " "
      document.getElementById("well_construction_Direct_distance_DH").value = " "
      document.getElementById("Engineering_department").value = " "
      document.getElementById("well_construction_GOSP_WIP_Department").value = " "
      if (!id){return}
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("well-name").value = data.name
          document.getElementById("objective").value = data.objective
          document.getElementById("BI").value = data.BI
          document.getElementById("Spud_date").value = data.Spud_date
          document.getElementById("Reference_Number").value = data.Reference_Number
          document.getElementById("well_construction_DWO_Engineer").value = data.well_construction_DWO_Engineer
          document.getElementById("well_construction_Producing_Engineer").value = data.well_construction_Producing_Engineer
          document.getElementById("Drillsite_Name").value = data.Drillsite_Name
          document.getElementById("fluid_Type_choices").value = data.fluid_Type_choices
          document.getElementById("Charge_Account").value = data.Charge_Account
          document.getElementById("Released_date").value = data.Released_date
          document.getElementById("well_construction_Direct_distance_DH").value = data.well_construction_Direct_distance_DH
          document.getElementById("Engineering_department").value = data.Engineering_department
          document.getElementById("well_construction_GOSP_WIP_Department").value = data.well_construction_GOSP_WIP_Department

        })
        .catch((error) => {
          console.error('Error fetching well construction info:', error)


        })
    }

                                        //After I make sure of the code I will delet all ths information  // 
    // function render_data1(id) {
    //   document.getElementById("Rig_name").value = " "
    //   document.getElementById("Rig_Type").value = " "
    //   document.getElementById("Operation_Department").value = " "
    //   document.getElementById("Operation_Manager").value = " "
    //   document.getElementById("Permanent_Construction_Cc").value = " "
    //   document.getElementById("Last_Update_Permanent_Construction_Cc").value = " "
    //   document.getElementById("Permanent_HDPE_Contractor").value = " "
    //   document.getElementById("Last_Update_Permanent_HDPE_Contractor").value = " "
    //   document.getElementById("Permanent_Soil_Test_Contractor").value = " "
    //   document.getElementById("Last_Update_Permanent_Soil_Test_Contractor").value = " "
    //   document.getElementById("Current_Assigned_Unit").value = " "
    //   document.getElementById("Current_Assigned_WS_Engineer").value = " "
    //   // Assuming your URL follows the pattern defined in the URLs 
    //   const url = `/get_Rig_Construction_Info/${id}/` // Replace this with your correct URL structure
    //   if (!id){return}
    //   fetch(url)
    //     .then((response) => response.json())
    //     .then((data) => {
    //       document.getElementById("Rig_name").value = data.Rig_name
    //       document.getElementById("Rig_Type").value = data.Rig_Type
    //       document.getElementById("Operation_Department").value = data.Operation_Department
    //       document.getElementById("Operation_Manager").value = data.Operation_Manager
    //       document.getElementById("Permanent_Construction_Cc").value = data.Permanent_Construction_Cc
    //       document.getElementById("Last_Update_Permanent_Construction_Cc").value = data.Last_Update_Permanent_Construction_Cc
    //       document.getElementById("Permanent_HDPE_Contractor").value = data.Permanent_HDPE_Contractor
    //       document.getElementById("Last_Update_Permanent_HDPE_Contractor").value = data.Last_Update_Permanent_HDPE_Contractor
    //       document.getElementById("Permanent_Soil_Test_Contractor").value = data.Permanent_Soil_Test_Contractor
    //       document.getElementById("Last_Update_Permanent_Soil_Test_Contractor").value = data.Last_Update_Permanent_Soil_Test_Contractor
    //       document.getElementById("Current_Assigned_Unit").value = data.Current_Assigned_Unit
    //       document.getElementById("Current_Assigned_WS_Engineer").value = data.Current_Assigned_WS_Engineer

    //     })
    //     .catch((error) => {
    //       console.error('Error fetching well construction info:', error)
    //     })
    // }


    function render_data1(id) {
  // Clear the fields initially
  document.getElementById("Rig_name").value = " ";
  document.getElementById("Rig_Type").value = " ";
  document.getElementById("Operation_Department").value = " ";
  document.getElementById("Operation_Manager").value = " ";
  document.getElementById("Permanent_Construction_Cc").value = " ";
  document.getElementById("Last_Update_Permanent_Construction_Cc").value = " ";
  document.getElementById("Permanent_HDPE_Contractor").value = " ";
  document.getElementById("Last_Update_Permanent_HDPE_Contractor").value = " ";
  document.getElementById("Permanent_Soil_Test_Contractor").value = " ";
  document.getElementById("Last_Update_Permanent_Soil_Test_Contractor").value = " ";
  document.getElementById("Current_Assigned_Unit").value = " ";
  document.getElementById("Current_Assigned_WS_Engineer").value = " ";
  
  // Check if the ID is valid
  if (!id) return;

  // Define the URL structure
  const url = `/get_Rig_Construction_Info/${id}/`; // Replace this with your correct URL structure

  // Fetch data from the API
  fetch(url)
    .then((response) => response.json())
    .then((data) => {
      // Update fields or set 'no data' if information is missing
      document.getElementById("Rig_name").value = data.Rig_name || '-----';
      document.getElementById("Rig_Type").value = data.Rig_Type || '-----';
      document.getElementById("Operation_Department").value = data.Operation_Department || '-----';
      document.getElementById("Operation_Manager").value = data.Operation_Manager || '-----';
      document.getElementById("Permanent_Construction_Cc").value = data.Permanent_Construction_Cc || '-----';
      document.getElementById("Last_Update_Permanent_Construction_Cc").value = data.Last_Update_Permanent_Construction_Cc || '-----';
      document.getElementById("Permanent_HDPE_Contractor").value = data.Permanent_HDPE_Contractor || '-----';
      document.getElementById("Last_Update_Permanent_HDPE_Contractor").value = data.Last_Update_Permanent_HDPE_Contractor || '-----';
      document.getElementById("Permanent_Soil_Test_Contractor").value = data.Permanent_Soil_Test_Contractor || '-----';
      document.getElementById("Last_Update_Permanent_Soil_Test_Contractor").value = data.Last_Update_Permanent_Soil_Test_Contractor || '-----';
      document.getElementById("Current_Assigned_Unit").value = data.Current_Assigned_Unit || '-----';
      document.getElementById("Current_Assigned_WS_Engineer").value = data.Current_Assigned_WS_Engineer || '-----';
    })
    .catch((error) => {
      console.error('Error fetching well construction info:', error);
    });
}



    function render_data2(id) {
      document.getElementById("Approval_Status").value = " "
      document.getElementById("Approval_Date").value = " "
      document.getElementById("CONDTR_REQ").value = " "
      document.getElementById("Approved_Lay_out").value = " "
      document.getElementById("Date_Approved_Lay_out").value = " "
      document.getElementById("R_Completio_Date").value = " "
      const url = `/get_Pre_Construction_Info/${id}/`; // Adjust the URL structure if needed
      
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("Approval_Status").value = data.Approval_Status || '-----';
          document.getElementById("Approval_Date").value = data.Approval_Date ||  '-----';
          document.getElementById("CONDTR_REQ").value = data.CONDTR_REQ || '-----';
          document.getElementById("Approved_Lay_out").value = data.Approved_Lay_out || '-----';
          document.getElementById("Date_Approved_Lay_out").value = data.Date_Approved_Lay_out || '-----';
          document.getElementById("R_Completio_Date").value = data.R_Completion_Date || '-----';
        })
        .catch((error) => {
          console.error('Error fetching Pre-Construction info:', error);
        });
    }




    function render_data3(id) {
      document.getElementById("CONSTR_REQ").value = " "
      document.getElementById("REQ_Start_Date").value = " "
      document.getElementById("REQ_Status").value = " "
      document.getElementById("CONSTR_Contractor").value = " "
      document.getElementById("CONSTR_KPI").value = " "
      document.getElementById("CONSTR_KOM").value = " "
      document.getElementById("Conducted_by_KOM").value = " "
      document.getElementById("Construction_Status").value = " "
      document.getElementById("CONSTR_Skid_ROAD_DIST").value = " "
      document.getElementById("Final_Survey").value = " "
      document.getElementById("Conducted_by_Final_Survey").value = " "
      document.getElementById("Unit").value = " "
      document.getElementById("Post_CONSTR_Rurn_OVER").value = " "
      document.getElementById("REQ_End_Date").value = " "
      document.getElementById("Quanatities_Detities").value = " "
      document.getElementById("Project_team_Details").value = " "
      document.getElementById("Remark_and_Hold").value = " "
      document.getElementById("Criticality").value = " "
      const url = `/get_Construction_Department/${id}/`; // Adjust the URL structure if needed
      if (!id){return}
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("CONSTR_REQ").value = data.CONSTR_REQ;
          document.getElementById("REQ_Start_Date").value = data.REQ_Start_Date;
          document.getElementById("REQ_Status").value = data.REQ_Status;
          document.getElementById("CONSTR_Contractor").value = data.CONSTR_Contractor;

          document.getElementById("CONSTR_KPI").value = data.CONSTR_KPI;
          document.getElementById("CONSTR_KOM").value = data.CONSTR_KOM;
          document.getElementById("Conducted_by_KOM").value = data.Conducted_by_KOM;
          document.getElementById("Construction_Status").value = data.Construction_Status;


          document.getElementById("CONSTR_Skid_ROAD_DIST").value = data.CONSTR_Skid_ROAD_DIST;
          document.getElementById("Final_Survey").value = data.Final_Survey;
          document.getElementById("Conducted_by_Final_Survey").value = data.Conducted_by_Final_Survey;
          document.getElementById("Unit").value = data.Unit;

          document.getElementById("Post_CONSTR_Rurn_OVER").value = data.Post_CONSTR_Rurn_OVER;
          document.getElementById("REQ_End_Date").value = data.REQ_End_Date;
          document.getElementById("Quanatities_Detities").value = data.Quanatities_Detities;
          document.getElementById("Project_team_Details").value = data.Project_team_Details;

          document.getElementById("Remark_and_Hold").value = data.Remark_and_Hold;
          document.getElementById("Criticality").value = data.Criticality;

        })
        .catch((error) => {
          console.error('Error fetching Pre-Construction info:', error);
        });
    }




    function render_data4(id) {
      document.getElementById("Cellar_Installation").value = " "
      document.getElementById("Soil_Test_Request").value = " "
      document.getElementById("REQ_Date").value = " "
      document.getElementById("Cellar_REQ_Status").value = " "
      document.getElementById("Soil_Test_Contractor").value = " "
      document.getElementById("Conducted_by").value = " "
      document.getElementById("callerID").value = " "
      const url = `/get_Cellar/${id}/`; // Adjust the URL structure if needed
      if (!id){return}
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          console.log(data)
          document.getElementById("callerID").value = data.id
          document.getElementById("Cellar_Installation").value = data.Cellar_Installation + "  test";
          document.getElementById("Soil_Test_Request").value = data.Soil_Test_Request;
          document.getElementById("REQ_Date").value = data.REQ_Date;
          document.getElementById("Cellar_REQ_Status").value = data.Cellar_REQ_Status;
          document.getElementById("Soil_Test_Contractor").value = data.Soil_Test_Contractor;
          document.getElementById("Conducted_by").value = data.Conducted_by;


        })
        .catch((error) => {
          console.error('Error fetching Pre-Construction info:', error);
        });
    }


    function render_data5(id) {
      document.getElementById("Lining_Installation").value = " "
      document.getElementById("REQ_Lining_Number").value = " "
      document.getElementById("HDPE_REQ_Date").value = " "
      document.getElementById("HDPE_REQ_Status").value = " "
      document.getElementById("Installation_Status").value = " "
      document.getElementById("Total_Area_Installed").value = " "
      document.getElementById("Lining_Contractor").value = " "
      document.getElementById("Conducted_by_info").value = " "
      document.getElementById("Quantities_Details").value = " "
      const url = `/get_HDPE_Installation/${id}/`; // Adjust the URL structure if needed
      if (!id){return}
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("Lining_Installation").value = data.Lining_Installation;
          document.getElementById("REQ_Lining_Number").value = data.REQ_Lining_Number;
          document.getElementById("HDPE_REQ_Date").value = data.HDPE_REQ_Date;
          document.getElementById("HDPE_REQ_Status").value = data.HDPE_REQ_Status;
          document.getElementById("Installation_Status").value = data.Installation_Status;
          document.getElementById("Total_Area_Installed").value = data.Total_Area_Installed;
          document.getElementById("Lining_Contractor").value = data.Lining_Contractor;
          document.getElementById("Conducted_by_info").value = data.Conducted_by_info;
          document.getElementById("Quantities_Details").value = data.Quantities_Details;


        })
        .catch((error) => {
          console.error('Error fetching Pre-Construction info:', error);
        });
    }

    // This is for the Rig movement Request
    // function render_data6(id) {
    //   document.getElementById("RIG_MOVE_REQ").value = " "
    //   document.getElementById("RIG_MOVE_NAME").value = " "
    //   document.getElementById("RIG_MOVE_WELL").value = " "
    //   document.getElementById("RIG_MOVE_STATUS").value = " "
    //   document.getElementById("RIG_MOVE_CONDUCTED_BY").value = " "
    //   const url = `/Get_Rig_Move/${id}/`;  // Ensure the URL is correct.
    //   if (!id){return}

    //   fetch(url)
    //     .then((response) => response.json())
    //     .then((data) => {
    //       // Update each input field with the fetched data
    //       document.getElementById("RIG_MOVE_REQ").value = data.RIG_MOVE_REQ || ' '; 
    //       document.getElementById("RIG_MOVE_NAME").value = data.RIG_MOVE_NAME || ' ';
    //       document.getElementById("RIG_MOVE_WELL").value = data.RIG_MOVE_WELL || ' ';
    //       document.getElementById("RIG_MOVE_STATUS").value = data.RIG_MOVE_STATUS || ' ';
    //       document.getElementById("RIG_MOVE_CONDUCTED_BY").value = data.RIG_MOVE_CONDUCTED_BY || ' ';

    //       // Handle file URL: if there's a file, show it
    //       if (data.RIG_MOVE_DOCUMENTS) {
    //         let fileLink = document.getElementById("RIG_MOVE_DOCUMENTS_LINK");
    //         fileLink.href = data.RIG_MOVE_DOCUMENTS;
    //         fileLink.innerText = "View Document";
    //         fileLink.style.display = 'block';  // Show link if the document exists
    //       } else {
    //         document.getElementById("RIG_MOVE_DOCUMENTS_LINK") // Hide link if no document
    //       }
    //     })
    //     .catch((error) => {
    //       console.error('Error fetching Rig Move info:', error);
    //     });
    // }

    function render_data6(id) {
    document.getElementById("RIG_MOVE_REQ").value = " ";
    document.getElementById("RIG_MOVE_NAME").value = " ";
    document.getElementById("RIG_MOVE_WELL").value = " ";
    document.getElementById("RIG_MOVE_STATUS").value = " ";
    document.getElementById("RIG_MOVE_CONDUCTED_BY").value = " ";
    const url = `/Get_Rig_Move/${id}/`;  // Ensure the URL is correct.
    if (!id) { return; }

    fetch(url)
        .then((response) => response.json())
        .then((data) => {
            // Update each input field with the fetched data, defaulting to '------' if data is not available
            document.getElementById("RIG_MOVE_REQ").value = data.RIG_MOVE_REQ || '------'; 
            document.getElementById("RIG_MOVE_NAME").value = data.RIG_MOVE_NAME || '------';
            document.getElementById("RIG_MOVE_WELL").value = data.RIG_MOVE_WELL || '------';
            document.getElementById("RIG_MOVE_STATUS").value = data.RIG_MOVE_STATUS || '------';
            document.getElementById("RIG_MOVE_CONDUCTED_BY").value = data.RIG_MOVE_CONDUCTED_BY || '------';

            // Handle file URL: if there's a file, show it
            if (data.RIG_MOVE_DOCUMENTS) {
                let fileLink = document.getElementById("RIG_MOVE_DOCUMENTS_LINK");
                fileLink.href = data.RIG_MOVE_DOCUMENTS;
                fileLink.innerText = "View Document";
                fileLink.style.display = 'block';  // Show link if the document exists
            } else {
                let fileLink = document.getElementById("RIG_MOVE_DOCUMENTS_LINK");
                fileLink.style.display = 'none';  // Hide link if no document
            }
        })
        .catch((error) => {
            console.error('Error fetching Rig Move info:', error);
        });
}




    function get_movementgs(name) {
      // Get the riggsList container where the divs will be appended
      const riggsList = document.getElementById("riggList");

      // Clear any previous content inside the riggsList
      riggsList.innerHTML = '';
      fetch(`/get_movementg/${name}`)
        .then((response) => response.json())
        .then((data) => {

          console.log(data)

          // Loop through the movementg data and create a div for each rig
          // for movementg in data
          data.forEach((movementg) => {
            /*
            <div class="list-group-item">
            SND-2000
            </div>
            */
            // const div = document.createElement("div");
            const listParent = document.createElement("ul");
            listParent.classList.add("list-group");

            const a = document.createElement("a");
            a.classList.add("list-group-item", "list-group-item-action");

            // Set the innerHTML or textContent of the div with the rig's name
            //div.textContent = movementg.rig.Rig_name; 
            a.textContent = movementg.Well_Construction_Infotion.well_construction_name + ' - ' + movementg.Well_Construction_Infotion.well_construction_Reference_Number + ' - ' + movementg.rig.Rig_name;
            // a.textContent = movementg.Well_Construction_Infotion.well_construction_Reference_Number; // This will looking for the number with the Rooc number ## This the rig name (movementg.rig.Rig_name)

            a.onclick = (e) => {
              if (movementg.Well_Construction_Infotion.well_construction_name)
                get_movementgs(`${movementg.Well_Construction_Infotion.well_construction_name}`);
              if (movementg.Well_Construction_Infotion)
                render_data(`${movementg.Well_Construction_Infotion.id}`);
              if (movementg.rig)
                render_data1(`${movementg.rig.id}`);
              if (movementg.Pre_Construction)
                render_data2(`${movementg.Pre_Construction.id}`);
              if (movementg.Construction_Departmeent)
                render_data3(`${movementg.Construction_Departmeent.id}`);
              if (movementg.Cellar)
                render_data4(`${movementg.Cellar.id}`);
              if (movementg.HDPE_Installation)
                render_data5(`${movementg.HDPE_Installation.id}`);
              if (movementg.Rig_Move)
                render_data6(`${movementg.Rig_Move.id}`);
            }
            // Append the newly created div to the riggsList container
            riggsList.appendChild(listParent);
            listParent.appendChild(a)
          });
        })
        .catch((error) => {
          console.error("Error fetching movement data:", error);
        });
    }
  </script>





  <script type="text/javascript">
    $(document).ready(function () {
      // Handle click event on well links
      $('.well-link').on('click', function (e) {
        e.preventDefault();  // Prevent the default action of the link

        var wellId = $(this).data('well-id');  // Get the well ID

        // Send AJAX request to get the rigs for the selected well
        $.ajax({
          url: "{% url 'get_rigs_for_well' %}",
          data: {
            'well_id': wellId
          },
          dataType: 'json',
          success: function (response) {
            var rigsDiv = $('#rigs-info');
            rigsDiv.empty();  // Clear previous data

            if (response.rigs.length > 0) {
              response.rigs.forEach(function (rig) {
                rigsDiv.append('<p>Rig Name: ' + rig.RIG_MOVE_NAME + ' | Status: ' + rig.RIG_MOVE_STATUS + ' | Conducted By: ' + rig.RIG_MOVE_CONDUCTED_BY + '</p>');
              });
            } else {
              rigsDiv.append('<p>No rig moves found for this well.</p>');
            }
          },
          error: function (xhr, status, error) {
            console.log('AJAX Error: ', error);
          }
        });
      });
    });



    // this is for post


    function submitCellarForm() {
      const id = document.getElementById("callerID").value
      const url = `/get_Cellar/${id}/`; // Adjust the URL structure if needed
      const formData = new FormData();
      formData.append('Cellar_Installation', document.getElementById('Cellar_Installation').value);
      formData.append('Soil_Test_Request', document.getElementById('Soil_Test_Request').value);
      formData.append('REQ_Date', document.getElementById('REQ_Date').value);
      formData.append('Cellar_REQ_Status', document.getElementById('Cellar_REQ_Status').value);
      formData.append('Soil_Test_Contractor', document.getElementById('Soil_Test_Contractor').value);
      formData.append('Conducted_by', document.getElementById('Conducted_by').value);
      const csrftoken = getCookie('csrftoken');
      fetch(url, {
        method: 'POST',
        body: formData,
        headers: {
          'X-CSRFToken': csrftoken,
          'X-Requested-With': 'XMLHttpRequest',  // Required for Django to recognize it as an AJAX request
        },
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.message) {
            alert(data.message); // Success message
          }
        })
        .catch((error) => {
          console.error('Error submitting cellar information:', error);
        });
    }
    function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].trim();
          // Does this cookie string begin with the name we want?
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }

  </script>

<!-- <script>
  let wellLink = document.querySelector('.well-link');

  wellLink.addEventListener('click', function() {

    let custonHTML = `
      <div class="custom-p">Custom Paragraph</div>
    `
  // let wellLinkInfo = document.querySelector('#riggList').innerHTML = custonHTML;
  let wellLinkInfo = document.querySelector('#riggList').children.length;
    // wellLinkInfo.classList.add("mystyle");
  console.log(wellLinkInfo);
  
    
  })
  
</script> -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>